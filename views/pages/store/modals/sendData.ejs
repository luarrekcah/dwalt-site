<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script type="text/javascript">
  emailjs.init("user_HtK8x6ljHacYnG1mZEaEP");
</script>

<div class="modal fade" id="enviarDados" tabindex="-1" role="dialog" aria-labelledby="enviarDadosLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="enviarDadosLabel">
          Enviar Dados para Simulação
        </h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="dateList">
        <!-- Inserir dados -->
        <form id="form">
          <div class="form-group row">
            <label for="inputNomeCompleto" class="col-sm-2 col-form-label">Nome Completo</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="inputNomeCompleto" name="inputNomeCompleto"
                placeholder="Nome Completo" required />
            </div>
          </div>
          <div class="form-group row">
            <label for="inputCpf" class="col-sm-2 col-form-label">CPF:</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="inputCpf" name="inputCpf" placeholder="CPF" required />
            </div>
          </div>
          <br />
          <div class="form-group row">
            <label for="inputData" class="col-sm-2 col-form-label">Data de Nascimento:</label>
            <div class="col-sm-10">
              <input type="date" class="form-control" id="inputData" name="inputData" placeholder="Data de Nascimento"
                required />
            </div>
          </div>
          <div class="form-group row">
            <label for="inputEmail" class="col-sm-2 col-form-label">Email:</label>
            <div class="col-sm-10">
              <input type="email" class="form-control" id="inputEmail" placeholder="Email" name="inputEmail" required />
            </div>
          </div>
          <br />
          <div class="form-group row">
            <label for="inputCelular" class="col-sm-2 col-form-label">Celular:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="inputCelular" placeholder="Celular" name="inputCelular"
                required />
            </div>
          </div>
          <br />
          <div class="form-group row">
            <label for="inputNomeMae" class="col-sm-2 col-form-label">Nome Completo da Mãe:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="inputNomeMae" name="inputNomeMae"
                placeholder="Nome Completo da Mãe" required />
            </div>
          </div>
          <div class="form-group row">
            <label for="inputRG" class="col-sm-2 col-form-label">RG:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="inputRG" name="inputRG" placeholder="RG" required />
            </div>
          </div>
          <br />
          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-2 pt-0">Sexo:</legend>
              <div class="col-sm-10">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="sexo" id="radioSexoMasculino" value="Masculino"
                    checked />
                  <label class="form-check-label" for="radioSexoMasculino">
                    Masculino
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="sexo" id="radioSexoFeminino" value="Feminino" />
                  <label class="form-check-label" for="radioSexoFeminino">
                    Feminino
                  </label>
                </div>
              </div>
            </div>
          </fieldset>
          <br />
          <fieldset class="form-group">
            <div class="row">
              <legend class="col-form-label col-sm-2 pt-0">
                Estado Civil:
              </legend>
              <div class="col-sm-10">
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="estadoCivil" id="radioSolteiro" value="Solteiro"
                    checked />
                  <label class="form-check-label" for="radioSolteiro">
                    Solteiro
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="estadoCivil" id="radioCasado" value="Casado" />
                  <label class="form-check-label" for="radioCasado">
                    Casado
                  </label>
                </div>
                <div class="form-check">
                  <input class="form-check-input" type="radio" name="estadoCivil" id="radioDivorciado"
                    value="Divorciado" />
                  <label class="form-check-label" for="radioDivorciado">
                    Divorciado
                  </label>
                </div>
              </div>
            </div>
          </fieldset>
          <br />
          <div class="form-group row">
            <label for="inputPatrimonio" class="col-sm-2 col-form-label">Valor do Patrimônio:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" name="inputPatrimonio" id="inputPatrimonio"
                placeholder="Valor do Patrimônio" required />
            </div>
          </div>
          <div class="form-group row">
            <label for="inputOcupacao" class="col-sm-2 col-form-label">Natureza de Ocupação:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="inputOcupacao" name="inputOcupacao"
                placeholder="Natureza de Ocupação" required />
            </div>
          </div>
          <div class="form-group row">
            <label for="inputProfissao" class="col-sm-2 col-form-label">Profissão:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="inputProfissao" name="inputProfissao" placeholder="Profissão"
                required />
            </div>
          </div>
          <br />
          <div class="form-group row">
            <label for="inputAnos" class="col-sm-2 col-form-label">Anos Atuando:</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="inputAnos" name="inputAnos" placeholder="Anos Atuando"
                required />
            </div>
          </div>
          <br />
          <div class="form-group row">
            <label for="inputMeses" class="col-sm-2 col-form-label">Meses Atuando:</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="inputMeses" name="inputMeses" placeholder="Meses Atuando"
                required />
            </div>
          </div>
          <br />
          <div class="form-group row">
            <label for="inputRenda" class="col-sm-2 col-form-label">Renda Mensal Total:</label>
            <div class="col-sm-10">
              <input type="number" class="form-control" id="inputRenda" name="inputRenda"
                placeholder="Renda Mensal Total" required />
            </div>
          </div>
          <div class="form-group row">
            <label for="inputEndereco" class="col-sm-2 col-form-label">Endereço Completo:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="inputEndereco" name="inputEndereco"
                placeholder="Endereço Completo" required />
            </div>
          </div>
          <div class="form-group row" style="display:none;">
            <label for="inputEndereco" class="col-sm-2 col-form-label">Código do Produto:</label>
            <div class="col-sm-10">
              <input type="text" class="form-control" id="codigo" name="codigo" placeholder="Código do Produto" />
            </div>
          </div>
          <script>
            document.getElementById("codigo").value = location.pathname.slice(9);
          </script>
          <br />
          <input type="submit" style="width: 100%" class="btn btn-primary" value="Enviar" id="button" />
        </form>

        <!-- Inserir dados -->
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">
          Fechar
        </button>
      </div>
    </div>
  </div>
</div>


<script>

  const btn = document.getElementById('button');

  document.getElementById('form')
    .addEventListener('submit', function (event) {
      event.preventDefault();

      btn.value = 'Enviando...';

      const serviceID = 'default_service';
      const templateID = 'template_k3ogrpd';

      emailjs.sendForm(serviceID, templateID, this)
        .then(() => {
          btn.value = 'Enviar';
          alert('Solicitação Enviada! Agora você pode sair da página caso desejar.');
        }, (err) => {
          btn.value = 'Enviar';
          alert(JSON.stringify(err));
        });
    });

</script>